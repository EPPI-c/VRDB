<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>VR GAMES</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/pico.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <h1>VR GAMES</h1>
  
  <input type="text" id="search-input" placeholder="Buscar juegos...">
    <select id="software-filter" onchange="softFilter(this.value)">
    <option value="">All</option>
    <option value="SteamVR">SteamVR</option>
    <option value="Monado">Monado</option>
    <option value="ALVR">ALVR</option>
    <option value="wivrn">wivrn</option>
    </select>


    <select id="rating-filter" disabled>
    <option value="">Any</option>
    <option value="1">Perfect</option>
    <option value="2">Requires manual configuration or better</option>
    <option value="3">Playable with graphical/controller issues or better</option>
    <option value="4">Unplayable because of graphical/controller issues or better</option>
    <option value="5">Crashes or won't start or better</option>
    </select>




<section>
  <div id="game-list" class="game-list">
    
    <a href="/home/respuit/Documents/Projects/mockupwebvr/vrdb/VRDB-SOURCE/VRDB/public/games/beat-saber.html" class="game-link">
      <article class="game-card">
        
        <img class="game-img" src="images/bs.webp" alt="Descripción de Beat Saber" >
        <div class="game-info">
            
            <h3>Beat Saber</h3>
                    <div class="rating-container">
                        
                        
                        
                        
                        

                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        

                        

                        
                        
                                                



                        <table class="rating-table">
                            <tr>
                                <td class="rating-text">SteamVR</td>
                                <td class="rating-text">Monado</td>
                                <td class="rating-text">ALVR</td>
                                <td class="rating-text">wivrn</td>
                            </tr>
<tr>
    

    <td>
        
        
            <i class="rating rating-2 fa-solid fa-face-smile icon-dark icon-size" title="Media: 2"></i>
        
    </td>

    <td>
        
        
            <i class="rating rating-2 fa-solid fa-face-smile icon-dark icon-size" title="Media: 2"></i>
        
    </td>

    <td>
        
        
            <i class="rating rating-2 fa-solid fa-face-smile icon-dark icon-size" title="Media: 2"></i>
        
    </td>

    <td>
        
        
            <i class="rating rating-3 fa-solid fa-face-meh icon-dark icon-size" title="Media: 3"></i>
        
    </td>
</tr>
                        </table>
                    </div>
                
        </div>
      </article>
      </a>
    
    <a href="/home/respuit/Documents/Projects/mockupwebvr/vrdb/VRDB-SOURCE/VRDB/public/games/superhot-vr.html" class="game-link">
      <article class="game-card">
        
        <img class="game-img" src="images/header.jpg" alt="Descripción de SPERHOT" >
        <div class="game-info">
            
            <h3>SPERHOT</h3>
                    <div class="rating-container">
                        
                        
                        
                        
                        

                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        

                        

                        
                        
                                                



                        <table class="rating-table">
                            <tr>
                                <td class="rating-text">SteamVR</td>
                                <td class="rating-text">Monado</td>
                                <td class="rating-text">ALVR</td>
                                <td class="rating-text">wivrn</td>
                            </tr>
<tr>
    

    <td>
        
        
            <i class="rating rating-1 fa-solid fa-face-laugh-beam icon-dark icon-size" title="Media: 1"></i>
        
    </td>

    <td>
        
        
            <i class="rating rating-2 fa-solid fa-face-smile icon-dark icon-size" title="Media: 2"></i>
        
    </td>

    <td>
        
        
            <i class="rating rating-3 fa-solid fa-face-meh icon-dark icon-size" title="Media: 3"></i>
        
    </td>

    <td>
        
        
            <i class="rating rating-1 fa-solid fa-face-laugh-beam icon-dark icon-size" title="Media: 1"></i>
        
    </td>
</tr>
                        </table>
                    </div>
                
        </div>
      </article>
      </a>
    
    <a href="/home/respuit/Documents/Projects/mockupwebvr/vrdb/VRDB-SOURCE/VRDB/public/games/xplane11.html" class="game-link">
      <article class="game-card">
        
        <img class="game-img" src="images/header.jpg" alt="Descripción de X-Plane 11" >
        <div class="game-info">
            
            <h3>X-Plane 11</h3>
                    <div class="rating-container">
                        
                        
                        
                        
                        

                        

                        

                        
                        
                                                



                        <table class="rating-table">
                            <tr>
                                <td class="rating-text">SteamVR</td>
                                <td class="rating-text">Monado</td>
                                <td class="rating-text">ALVR</td>
                                <td class="rating-text">wivrn</td>
                            </tr>
<tr>
    

    <td>
        
        
            <i class="rating rating-unknown fa-solid fa-circle-question icon-dark icon-size" ></i>
        
    </td>

    <td>
        
        
            <i class="rating rating-unknown fa-solid fa-circle-question icon-dark icon-size" ></i>
        
    </td>

    <td>
        
        
            <i class="rating rating-unknown fa-solid fa-circle-question icon-dark icon-size" ></i>
        
    </td>

    <td>
        
        
            <i class="rating rating-unknown fa-solid fa-circle-question icon-dark icon-size" ></i>
        
    </td>
</tr>
                        </table>
                    </div>
                
        </div>
      </article>
      </a>
    
  </div>
</section>

<script>
function applyFilters() {
  const softwareValue = document.getElementById('software-filter').value.toLowerCase();
  const ratingFilter = document.getElementById('rating-filter');
  const ratingValue = parseInt(ratingFilter.value);  // Aseguramos que ratingValue sea un entero
  const searchValue = document.getElementById('search-input').value.toLowerCase(); 

  const games = document.querySelectorAll('.game-card');

  // Si no hay filtro de software, deshabilitamos el filtro de rating
  if (softwareValue === "") {
    ratingFilter.value = "";
    ratingFilter.disabled = true;

    games.forEach(game => {
      const gameTitle = game.querySelector('h3').innerText.toLowerCase();
      if (searchValue === "" || gameTitle.includes(searchValue)) {
        game.parentElement.style.display = ''; 
      } else {
        game.parentElement.style.display = 'none'; 
      }
    });
    return; 
  } else {
    ratingFilter.disabled = false;
  }

  // Filtrar los juegos en función de las condiciones
  games.forEach(game => {
    const gameInfo = game.querySelector('.game-info').innerText.toLowerCase();
    const gameTitle = game.querySelector('h3').innerText.toLowerCase();
    const ratings = game.querySelectorAll('.rating');
    
    // Filtramos por el valor del software (SteamVR, Monado, ALVR, wivrn)
    const satisfiesSoftware = gameInfo.includes(softwareValue);

    // Filtramos por la búsqueda en el título
    const satisfiesSearch = searchValue === "" || gameTitle.includes(searchValue);

    // Filtramos por la media de los juegos (rating)
    let satisfiesRating = true;
    if (ratingValue) {
      satisfiesRating = Array.from(ratings).some(rating => {
        // Extraemos el valor de la media de la clase `rating-X`
        const classList = Array.from(rating.classList);
        const ratingClass = classList.find(c => c.startsWith('rating-'));
        const ratingNumber = parseInt(ratingClass.split('-')[1]);

        // Aseguramos que el juego tenga una media igual o menor a la seleccionada
        return ratingNumber <= ratingValue;
      });
    }

    // Aplicamos todos los filtros: software, rating y búsqueda
    if (satisfiesSoftware && satisfiesRating && satisfiesSearch) {
      game.parentElement.style.display = ''; 
    } else {
      game.parentElement.style.display = 'none'; 
    }
  });
}

// Eventos para aplicar los filtros
document.getElementById('software-filter').addEventListener('change', applyFilters);
document.getElementById('rating-filter').addEventListener('change', applyFilters);
document.getElementById('search-input').addEventListener('input', applyFilters); // Evento para búsqueda


</script>



  
</body>
</html>
